{% extends 'base.html' %}
{%load static%}

    {% block titlecontent %}
    <title>main</title>
    {% endblock %}

    {% block bodycontent %}
    <body class="mainbody">
    {% endblock %}
        {%block content%}
        <h1 class ="page-title">Diagnose</h1>

        <hr>

        <section class="outer-box">
            <div id="listing"></div>
        </section>

        {% block footercontent %}
        <footer class ="mainfooter"><p>Copyright Bike MD 2017. All rights reserved.</p></footer>
        {% endblock %}

        <!-- step circles -->
        <script id="brand-template" type="text/x-handlebars-template">
            <article class="post-container">
                {%verbatim%}
                <h3 class ="diag-select-title">select make
                        <div id="brandStep" class="stepscircles">
                            <h5 id="brand-number" class="step-number">1</h5>
                        </div>
                </h3>
                    {{#each .}}
                    <a id="clickOne" onclick="showYears({{this.id}})">
                        <div class ="diag-select-box">
                            <h4 class="diag-select-text">{{ this.name }}</h4>
                        </div>
                    </a>
                {{/each}}
                {% endverbatim %}
            </article>
        </script>


        <script id="year-template" type="text/x-handlebars-template">
            <article class="post-container">
                {%verbatim%}
                <h3 class ="diag-select-title">select year

                  <a onclick="showYears({{this.brandId}})">
                      <div id="yearStep" class="stepscircles">
                          <h5 id="year-number" class="step-number">2</h5>
                      </div>
                  </a>
                  <a onclick="showBrands()">
                      <div class="stepscircles">
                          <h5 class="step-number">1</h5>
                      </div>
                  </a>

                </h3>
                <input id="brandId" type="hidden" name="brand" value="{{this.brandId}}">
                    {{#each this.modelYears}}
                    <a onclick="showModels({{this}})">
                        <div class ="diag-select-box">
                            <h4 class="diag-select-text">{{this}}</h4>
                        </div>
                    </a>
                    {{/each}}
                {% endverbatim %}
            </article>
        </script>


        <script id="model-template" type="text/x-handlebars-template">
            <article class="post-container">
                {%verbatim%}
                <h3 class ="diag-select-title">select model
                  <div id="modelStep" class="stepscircles">
                      <h5 id="model-number" class="step-number">3</h5>
                  </div>

                    <a onclick="showYears({{brand}})">
                        <div class="stepscircles">
                            <h5 class="step-number">2</h5>
                        </div>
                    </a>

                    <a onclick="showBrands()">
                        <div class="stepscircles">
                            <h5 class="step-number">1</h5>
                        </div>
                    </a>

                </h3>
                {{#each bikes}}
                    <a onclick="linkBike({{this.id}})">
                        <div class ="diag-select-box">
                            <h4 class="diag-select-text">{{ this.name }}</h4>
                        </div>
                    </a>
                {{/each}}
                {% endverbatim %}
            </article>
        </script>
        {% endblock %}

        {% block jscontent %}
        <script src="{% static 'js/main.js' %}" type="text/javascript"></script>
        {% endblock %}
    </body>
